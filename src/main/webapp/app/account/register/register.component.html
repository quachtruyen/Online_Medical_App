<div>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h1 data-cy="registerTitle">Register</h1>

      <div class="alert alert-success" *ngIf="success">
        <strong>Register has been saved!</strong> Please check your email for confirmation.
      </div>

      <div class="alert alert-danger" *ngIf="error"><strong>Registration failed!</strong> Please try again later.</div>

      <div class="alert alert-danger" *ngIf="errorUserExists">
        <strong>Username is already registered!</strong> Please choose another Username.
      </div>

      <div class="alert alert-danger" *ngIf="errorEmailExists"><strong>Email already in use!</strong> Please choose
        another Email.
      </div>

      <div class="alert alert-danger" *ngIf="doNotMatch">Password and confirmation do not match!</div>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-md-8">
      <form name="form" role="form" (ngSubmit)="register()" [formGroup]="registerForm" *ngIf="!success">
        <div class="form-group">
          <label class="form-control-label" for="login" jhiTranslate="global.form.username.label">Username</label>
          <input
            type="text"
            class="form-control"
            id="login"
            name="login"
            placeholder="{{ 'global.form.username.placeholder' | translate }}"
            formControlName="login"
            data-cy="username"
            #login
          />

          <div
            *ngIf="registerForm.get('login')!.invalid && (registerForm.get('login')!.dirty || registerForm.get('login')!.touched)">
            <small class="form-text text-danger" *ngIf="registerForm.get('login')?.errors?.required">
              Your username is required.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('login')?.errors?.minlength">
              Your username must be at least 1 character.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('login')?.errors?.maxlength">
              Your username cannot be longer than 50 characters.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('login')?.errors?.pattern">
              Your username can only contain letters and numbers.
            </small>
          </div>
        </div>

        <div class="form-group">
          <label class="form-control-label" for="email">
            Email
          </label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            placeholder="{{ 'global.form.email.placeholder' | translate }}"
            formControlName="email"
            data-cy="email"
          />

          <div
            *ngIf="registerForm.get('email')!.invalid && (registerForm.get('email')!.dirty || registerForm.get('email')!.touched)">
            <small class="form-text text-danger" *ngIf="registerForm.get('email')?.errors?.required"> Your email is
              compulsory. </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('email')?.errors?.invalid">
              Your email address is not valid.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('email')?.errors?.minlength">
              Your email must be at least 5 characters long.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('email')?.errors?.maxlength">
              Your email cannot be longer than 100 characters.
            </small>
          </div>
        </div>

        <div class="form-group">
          <label class="form-control-label" jhiTranslate="global.form.firstname.label" for="firstName">First Name</label>
          <input
            type="text"
            class="form-control"
            id="firstName"
            name="firstName"
            placeholder="{{ 'global.form.firstname.placeholder' | translate }}"
            formControlName="firstName"
            data-cy="firstName"
          />

          <div
            *ngIf="registerForm.get('firstName')!.invalid && (registerForm.get('firstName')!.dirty || registerForm.get('firstName')!.touched)">
            <small class="form-text text-danger" jhiTranslate="global.form.firstname.required"
                   *ngIf="registerForm.get('firstName')?.errors?.required">
              Your first name is required.
            </small>

            <small class="form-text text-danger" jhiTranslate="global.form.firstname.minlength"
                   *ngIf="registerForm.get('firstName')?.errors?.minlength">
              Your first name must be at least 1 character.
            </small>

            <small class="form-text text-danger" jhiTranslate="global.form.firstname.maxlength"
                   *ngIf="registerForm.get('firstName')?.errors?.maxlength">
              Your first name cannot be longer than 50 characters.
            </small>

            <small class="form-text text-danger" jhiTranslate="global.form.firstname.pattern"
                   *ngIf="registerForm.get('firstName')?.errors?.pattern">
              Your first name can only contain letters.
            </small>
          </div>
        </div>

        <div class="form-group">
          <label class="form-control-label" jhiTranslate="global.form.lastname.label" for="lastname">last Name</label>
          <input
            type="text"
            class="form-control"
            id="lastName"
            name="lastName"
            placeholder="{{ 'global.form.lastname.placeholder' | translate }}"
            formControlName="lastName"
            data-cy="lastName"
          />

          <div
            *ngIf="registerForm.get('lastName')!.invalid && (registerForm.get('lastName')!.dirty || registerForm.get('lastName')!.touched)">
            <small class="form-text text-danger" jhiTranslate="global.form.lastname.required"
                   *ngIf="registerForm.get('lastName')?.errors?.required">
              Your last name is required.
            </small>

            <small class="form-text text-danger" jhiTranslate="global.form.lastname.minlength"
                   *ngIf="registerForm.get('lastName')?.errors?.minlength">
              Your last name must be at least 1 character.
            </small>

            <small class="form-text text-danger" jhiTranslate="global.form.lastname.maxlength"
                   *ngIf="registerForm.get('lastName')?.errors?.maxlength">
              Your last name cannot be longer than 50 characters.
            </small>

            <small class="form-text text-danger" jhiTranslate="global.form.lastname.pattern"
                   *ngIf="registerForm.get('lastName')?.errors?.pattern">
              Your last name can only contain letters.
            </small>
          </div>
        </div>

        <div class="form-group">
          <label class="form-control-label" for="phoneNumber">Phone number</label>
          <input
            type="text"
            class="form-control"
            id="phoneNumber"
            name="phoneNumber"
            placeholder="{{ 'global.form.lastname.placeholder' | translate }}"
            formControlName="phoneNumber"
            data-cy="phoneNumber"
          />

          <div
            *ngIf="registerForm.get('phoneNumber')!.invalid && (registerForm.get('phoneNumber')!.dirty || registerForm.get('phoneNumber')!.touched)">
            <small class="form-text text-danger" *ngIf="registerForm.get('phoneNumber')?.errors?.required">
              Your last name is required.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('phoneNumber')?.errors?.minlength">
              Your last name must be at least 1 character.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('phoneNumber')?.errors?.maxlength">
              Your last name cannot be longer than 11 characters.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('phoneNumber')?.errors?.pattern">
              Your phone number can only contain numbers.
            </small>
          </div>
        </div>

        <div class="form-group">
          <label class="form-control-label" jhiTranslate="global.form.enterpassword.label" for="password">Enter
            password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            placeholder="{{ 'global.form.enterpassword.placeholder' | translate }}"
            formControlName="password"
            data-cy="firstPassword"
          />

          <div
            *ngIf="registerForm.get('password')!.invalid && (registerForm.get('password')!.dirty || registerForm.get('password')!.touched)">
            <small class="form-text text-danger" *ngIf="registerForm.get('password')?.errors?.required"> Your password
              is required.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('password')?.errors?.minlength">
              Your password must be at least 4 characters long.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('password')?.errors?.maxlength">
              Your password cannot be longer than 50 characters.
            </small>
          </div>

          <jhi-password-strength-bar
            [passwordToCheck]="registerForm.get('password')!.value"></jhi-password-strength-bar>
        </div>

        <div class="form-group">
          <label class="form-control-label" jhiTranslate="global.form.enterthepassword.label" for="confirmPassword">Enter
            return password </label>
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            name="confirmPassword"
            placeholder="{{ 'global.form.enterthepassword.placeholder' | translate }}"
            formControlName="confirmPassword"
            data-cy="secondPassword"
          />

          <div
            *ngIf="registerForm.get('confirmPassword')!.invalid && (registerForm.get('confirmPassword')!.dirty || registerForm.get('confirmPassword')!.touched)"
          >
            <small class="form-text text-danger" *ngIf="registerForm.get('confirmPassword')?.errors?.required">
              Your confirmation password is required.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('confirmPassword')?.errors?.minlength">
              Your confirmation password must be at least 4 characters long.
            </small>

            <small class="form-text text-danger" *ngIf="registerForm.get('confirmPassword')?.errors?.maxlength">
              Your confirmation password cannot be longer than 50 characters.
            </small>
          </div>
        </div>

        <button type="submit" [disabled]="registerForm.invalid" class="btn btn-primary" data-cy="submit">Register
        </button>
      </form>

      <div class="mt-3 alert alert-warning">
        <span>If you want to login </span>
        <a class="alert-link" routerLink="/login">Login</a>
        <!--        <span jhiTranslate="global.messages.info.authenticated.suffix">, you can try the default accounts:-->
        <!--          <br />- Administrator (login="admin" and password="admin") <br />- User (login="user" and password="user").</span>-->
      </div>
    </div>
  </div>
</div>
